% matter/cover.tex
% Titelseite mit EINEM Logo und festem Hintergrund.
% Voraussetzungen (in main.tex geladen): graphicx, xcolor, geometry, eso-pic, ifthen, setspace, etoolbox

% -- Einstellungen (bei Bedarf hier anpassen) --
\newcommand{\CoverBackgroundPath}{figures/theme/cover-bg.pdf} % Hintergrund-PDF
\newcommand{\CoverTextColor}{white}                           % Textfarbe über dem Hintergrund

% Logo-Parameter (Abstände und Maximalbreite)
\newcommand{\CoverLogoTopSkip}{1.2cm}    % oberer Abstand
\newcommand{\CoverLogoLeftSkip}{-13.5mm} % ~10px weiter nach links (≈ -7.5pt)

\newlength{\CoverLogoMaxWidth}
\setlength{\CoverLogoMaxWidth}{0.40\textwidth} % max. 40% der Textbreite (≈ doppelt)


% Fallback: \coverfont nutzt Sans-Serif. (In main.tex gewünschte Sans-Schrift setzen.)
\providecommand{\coverfont}{\sffamily}

% Hilfsbefehl: druckt ein Feld nur, wenn nicht leer
\providecommand{\printfield}[1]{\ifdefempty{#1}{}{{\noindent\fontsize{10}{12}\selectfont #1\par}}}

% -- Hintergrund einbinden (nur Titelseite) --
\makeatletter
\AddToShipoutPictureBG*{%
  \AtPageLowerLeft{%
    \includegraphics[width=\paperwidth,height=\paperheight]{\CoverBackgroundPath}%
  }%
}
\makeatother

% -- Titelseite --
\newgeometry{margin=1.98cm, top=2.15cm, bottom=1.47cm}
\begin{titlepage}
  \coverfont
  \color{\CoverTextColor}

  % Logo oben links, mit Abstand nach oben/links; max. 20% Textbreite
  \vspace*{\CoverLogoTopSkip}
  \noindent\hspace*{\CoverLogoLeftSkip}%
  \begingroup
    \IfFileExists{figures/theme/logotypes/rise-logo.jpg}{%
      \includegraphics[width=\CoverLogoMaxWidth,keepaspectratio]{figures/theme/logotypes/rise-logo.jpg}%
    }{%
      {\bfseries\fontsize{28}{34}\selectfont RISE Handbuch}%
    }%
  \endgroup

  % vertikaler Abstand nach dem Logo
  \vspace{4.5\baselineskip}

  % Titel
  \noindent\makebox[\textwidth][l]{%
    \parbox{\dimexpr\textwidth-4cm\relax}{%
      \setstretch{1.03}\raggedright\bfseries\fontsize{20}{26}\selectfont \GetTitle
    }%
  }

  \vspace{0.8\baselineskip}

  % Untertitel
  \noindent\makebox[\textwidth][l]{%
    \parbox{\dimexpr\textwidth-7cm\relax}{%
      \setstretch{1.03}\raggedright\fontsize{14}{19}\selectfont \GetSubtitle
    }%
  }

  \vspace{35pt}

  % Autor*innen
  {\noindent\bfseries\fontsize{14}{19}\selectfont \GetFirstAuthor}

  \ifdefined\GetSecondAuthor
    \vspace{8pt}{\noindent\bfseries\fontsize{14}{19}\selectfont \GetSecondAuthor}
  \fi
  \ifdefined\GetThirdAuthor
    \vspace{8pt}{\noindent\bfseries\fontsize{14}{19}\selectfont \GetThirdAuthor}
  \fi

  \vfill

  % Institution/Felder (nur drucken, wenn nicht leer)
  \printfield{\GetSchool}
  \printfield{\GetDepartment}
  \printfield{\GetDegree}
  \ifdefempty{\GetCourse}{}{ \printfield{\GetCourse} }

  % Dokumentstatus
  \ifthenelse{\equal{\DocStageOption}{working}}{%
    \vspace{62pt}
    {\noindent\fontsize{10}{12}\selectfont \GetDocumentVersion \\ \textit{\today}}
    \vspace{62pt}
  }{%
    \vspace{125pt}
  }

  % Datum/Ort
  {\noindent\fontsize{10}{12}\selectfont \GetDate}

  \vspace{68pt}
\end{titlepage}
\restoregeometry
